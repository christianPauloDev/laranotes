(this.webpackJsonplaranotes=this.webpackJsonplaranotes||[]).push([[0],{35:function(e,t,a){},37:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(11),l=a.n(n),i=(a(35),a(15)),o=a.n(i),r=a(14),d=a(10),j=a(18),b=a(4),u=(a(37),a(28)),m=a.n(u).a.create({baseURL:"http://laranotes-back.2dmedia.com.br/api/"}),h=a(72),O=a(71),x=a(19),p=(a(60),a.p+"static/media/logo.6ce24c58.svg"),f=a(1);function g(){return Object(f.jsx)("div",{className:"Load",children:Object(f.jsx)("header",{className:"Load-header",children:Object(f.jsx)("img",{src:p,className:"Load-logo",alt:"logo"})})})}var v=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1];function n(){return l.apply(this,arguments)}function l(){return(l=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("categories");case 2:t=e.sent,a=t.data,s(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){n()}),[]);var i=Object(c.useState)(!1),u=Object(b.a)(i,2),p=u[0],v=u[1],N=Object(c.useState)({title:"",period:""}),y=Object(b.a)(N,2),k=y[0],C=y[1],S=function(){v(!p),C({title:"",period:""})},_=function(e){return C(Object(d.a)(Object(d.a)({},k),{},Object(r.a)({},e.target.name,e.target.value)))},w=Object(c.useState)(!1),F=Object(b.a)(w,2),G=F[0],D=F[1],E=Object(c.useState)(!1),L=Object(b.a)(E,2),T=L[0],M=L[1],P=Object(c.useState)([]),A=Object(b.a)(P,2),B=A[0],R=A[1];function H(){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("spending");case 2:t=e.sent,a=t.data,R(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){H(),setTimeout((function(){De(!1)}),500)}),[]);var z=Object(c.useState)(!1),$=Object(b.a)(z,2),I=$[0],J=$[1],q=Object(c.useState)({category_fk:"",description:"",total_spent:"",closing_date:""}),U=Object(b.a)(q,2),K=U[0],Q=U[1],W=function(){J(!I),Q({category_fk:"",description:"",total_spent:"",closing_date:""})},X=function(e){return Q(Object(d.a)(Object(d.a)({},K),{},Object(r.a)({},e.target.name,e.target.value)))},Y=Object(c.useState)(!1),Z=Object(b.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ce=Object(b.a)(ae,2),se=ce[0],ne=ce[1],le=Object(c.useState)({}),ie=Object(b.a)(le,2),oe=ie[0],re=ie[1],de=Object(c.useState)(!1),je=Object(b.a)(de,2),be=je[0],ue=je[1],me=function(){ue(!1)},he=Object(c.useState)(!1),Oe=Object(b.a)(he,2),xe=Oe[0],pe=Oe[1],fe=Object(c.useState)({period:"",category:""}),ge=Object(b.a)(fe,2),ve=ge[0],Ne=ge[1],ye=Object(c.useState)([]),ke=Object(b.a)(ye,2),Ce=ke[0],Se=ke[1],_e=function(e){Ne(Object(d.a)(Object(d.a)({},ve),{},Object(r.a)({},e.target.name,e.target.value)))},we=Object(c.useState)(!0),Fe=Object(b.a)(we,2),Ge=Fe[0],De=Fe[1],Ee=function(){return Object(f.jsxs)(O.a.div,{animate:{y:10},className:"alert alert-warning",children:[" ",Object(f.jsx)("i",{className:"fas fa-exclamation-triangle"}),"  Preencha todos os campos!  "]})},Le=function(){return Object(f.jsxs)(O.a.div,{animate:{y:10},className:"alert alert-success",children:[" ",Object(f.jsx)("i",{className:"fas fa-check"}),"  Cadastro Realizado com Sucesso!  "]})},Te=function(e){var t=e.split("-")[0],a=e.split("-")[1],c=e.split("-")[2];return"".concat(c,"/").concat(a,"/").concat(t)};return Ge?Object(f.jsx)(g,{}):Object(f.jsxs)("div",{children:[Object(f.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("span",{className:"navbar-brand mb-0 h1",children:[" ",Object(f.jsx)("i",{className:"fas fa-address-book"})," LaraNotes"]})})}),Object(f.jsxs)("div",{className:"container my-5",children:[Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsx)("div",{className:"col-12 col-lg-4 mb-4 text-center",children:Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsxs)("button",{type:"button",onClick:S,className:"btn btn-primary",children:[Object(f.jsx)("i",{className:"fas fa-wallet"})," \xa0 Criar Categorias"]}),Object(f.jsxs)("button",{type:"button",onClick:W,className:"btn btn-success",children:[Object(f.jsx)("i",{className:"fas fa-money-check-alt"})," \xa0 Adicionar Gastos"]})]})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12 col-lg-4 mb-3",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"input-group-text text-white bg-dark",id:"inputGroup-sizing-default",children:"Filtrar por"}),Object(f.jsxs)("select",{defaultChecked:"",name:"period",value:ve.period,onChange:_e,className:"form-select",children:[Object(f.jsx)("option",{selected:!0,value:"",children:"Escolha a per\xedodo"}),Object(f.jsx)("option",{value:"Di\xe1rio",children:"Di\xe1rio"}),Object(f.jsx)("option",{value:"Semanal",children:"Semanal"}),Object(f.jsx)("option",{value:"Mensal",children:"Mensal"}),Object(f.jsx)("option",{value:"Anual",children:"Anual"})]})]})}),Object(f.jsx)("div",{className:"col-12 col-lg-4 mb-3",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"input-group-text text-white bg-dark",id:"inputGroup-sizing-default",children:"Gastos com"}),Object(f.jsxs)("select",{defaultChecked:ve.category,name:"category",value:ve.category,onChange:_e,className:"form-select",children:[Object(f.jsx)("option",{selected:!0,value:"",children:"Escolha a categoria"}),a.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]})}),Object(f.jsxs)("div",{className:"col-12 col-lg-4 text-center text-lg-end",children:[Ce.length>0&&Object(f.jsxs)(O.a.button,{animate:{x:-20},className:"btn btn-warning",onClick:function(e){Ne({period:"",category:""}),Se([])},children:[" ",Object(f.jsx)("i",{className:"fas fa-trash"})," \xa0 Limpar Filtros  "]}),Object(f.jsxs)("button",{className:"btn btn-info",onClick:function(e){if(""!==(ve.category&&ve.period)){var t=a.filter((function(e){return e.id==ve.category&&e.period==ve.period}));t.length>0&&Se(t)}else if(""!==ve.category){var c=a.filter((function(e){return e.id==ve.category}));Se(c)}else if(""!==ve.period){var s=a.filter((function(e){return e.period==ve.period}));Se(s)}},children:[" ",Object(f.jsx)("i",{className:"fas fa-search"})," \xa0 Pesquisar  "]})]})]}),Object(f.jsx)("h3",{className:"mt-3",children:"Meus Gastos"}),Object(f.jsx)("div",{className:"row my-3",children:(Ce.length>0?Ce:a).map((function(e){return Object(f.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-4  mb-4",children:Object(f.jsxs)("div",{className:"card shadow-sm",children:[Object(f.jsx)("div",{className:"card-header bg-dark",children:Object(f.jsxs)("div",{className:"row align-items-center",children:[Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h5",{className:"m-0 text-white",children:e.title})}),Object(f.jsx)("div",{className:"col-4 text-end",children:Object(f.jsx)("div",{className:"badge text-dark bg-light",children:e.period})})]})}),Object(f.jsx)("ul",{className:"list-group list-group-flush",children:B.map((function(t){return t.category_fk===e.id&&Object(f.jsx)("button",{className:"list-group-item list-group-item-action",onClick:function(){return function(e){ue(!0),re(e)}(t)},children:Object(f.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(f.jsxs)("div",{className:"col-8",children:[Object(f.jsxs)("span",{className:"text-success fw-bold",children:[" ",(a=t.total_spent,a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))," "]})," -  ",t.description]}),Object(f.jsx)("div",{className:"col-4 text-end",children:Object(f.jsxs)("div",{className:"badge bg-dark ",children:[Object(f.jsx)("i",{className:"far fa-calendar"})," \xa0 ",Te(t.closing_date)," "]})})]})},t.id);var a}))})]})},e.id)}))}),Object(f.jsxs)(h.a,{show:p,onHide:S,children:[Object(f.jsx)("div",{className:"modal-header bg-primary",children:Object(f.jsxs)("h5",{className:"modal-title text-white",id:"exampleModalLabel",children:[" ",Object(f.jsx)("i",{className:"fas fa-wallet"})," \xa0 Adicionar Categoria"]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"categoryTitle",children:" T\xedtulo da Categoria "}),Object(f.jsx)("input",{type:"text",name:"title",id:"categoryTitle",placeholder:"Ex: Viajens, M\xeas, Gasolina, etc",className:"form-control",value:k.title,onChange:_})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"categoryPeriod",children:" Per\xedodo do Gasto "}),Object(f.jsxs)("select",{defaultChecked:"",name:"period",value:k.period,onChange:_,className:"form-select",children:[Object(f.jsx)("option",{selected:!0,value:"",children:"Escolha o per\xedodo"}),Object(f.jsx)("option",{value:"Di\xe1rio",children:"Di\xe1rio"}),Object(f.jsx)("option",{value:"Semanal",children:"Semanal"}),Object(f.jsx)("option",{value:"Mensal",children:"Mensal"}),Object(f.jsx)("option",{value:"Anual",children:"Anual"})]})]}),G&&Ee(),T&&Le()]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:S,children:"Fechar"}),Object(f.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){""===(k.title&&k.period)?(D(!0),setTimeout((function(){D(!1)}),5e3)):m.post("categories/",k).then((function(e){e.status>=200&&(n(),M(!0),C({title:"",period:""}),setTimeout((function(){M(!1)}),5e3))}))},children:[" ",Object(f.jsx)("i",{className:"fas fa-plus"}),"  Cadastrar Categoria"]})]})]}),Object(f.jsxs)(h.a,{show:I,onHide:W,children:[Object(f.jsx)("div",{className:"modal-header bg-success",children:Object(f.jsxs)("h5",{className:"modal-title text-white",id:"exampleModalLabel",children:[" ",Object(f.jsx)("i",{className:"fas fa-money-check-alt"})," \xa0 Adicionar Gastos"]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendCategory",children:" Categoria do Gasto "}),Object(f.jsxs)("select",{defaultChecked:K.category_fk,name:"category_fk",value:K.category_fk,onChange:X,className:"form-select",children:[Object(f.jsx)("option",{selected:!0,value:"",children:"Escolha a categoria"}),a.map((function(e){return Object(f.jsxs)("option",{value:e.id,children:[e.title," - ",e.period," "]},e.id)}))]})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendDesc",children:" Descri\xe7\xe3o do Gasto "}),Object(f.jsx)("input",{type:"text",name:"description",id:"spendDesc",value:K.description,onChange:X,placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control"})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendValue",children:" Valor do Gasto "}),Object(f.jsx)(x.a,{className:"form-control",prefix:"R$",decimalSeparator:",",thousandSeparator:".",value:K.total_spent,onChangeEvent:function(e,t,a){Q(Object(d.a)(Object(d.a)({},K),{},{total_spent:a}))}})]})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendDate",children:" Data do Gasto "}),Object(f.jsx)("input",{type:"date",name:"closing_date",id:"spendDate",className:"form-control",value:K.closing_date,onChange:X})]})})]}),ee&&Ee(),se&&Le()]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:W,children:" Fechar"}),Object(f.jsxs)("button",{type:"button",className:"btn btn-success",onClick:function(){""===(K.description&&K.value&&K.date)?(te(!0),setTimeout((function(){te(!1)}),5e3)):m.post("spending",K).then((function(e){e.status>=200&&(H(),ne(!0),Q({category_fk:"",description:"",total_spent:"",closing_date:""}),setTimeout((function(){ne(!1)}),5e3))}))},children:[" ",Object(f.jsx)("i",{className:"fas fa-plus"}),"  Cadastrar Gasto"]})]})]}),Object(f.jsxs)(h.a,{show:be,onHide:me,children:[Object(f.jsx)("div",{className:"modal-header bg-success",children:Object(f.jsxs)("h5",{className:"modal-title text-white",id:"exampleModalLabel",children:[" ",Object(f.jsx)("i",{className:"fas fa-money-check-alt"})," \xa0 Editar Gastos"]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendCategory",children:" Categoria do Gasto "}),Object(f.jsxs)("select",{disabled:!0,defaultChecked:oe.category_fk,name:"category_fk",value:oe.category_fk,className:"form-select",children:[Object(f.jsx)("option",{selected:!0,value:"",children:"Escolha a categoria"}),a.map((function(e){return Object(f.jsxs)("option",{value:e.id,children:[e.title," - ",e.period," "]},e.id)}))]})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendDesc",children:" Descri\xe7\xe3o do Gasto "}),Object(f.jsx)("input",{type:"text",name:"description",id:"spendDesc",value:oe.description,onChange:function(e){return re(Object(d.a)(Object(d.a)({},oe),{},Object(r.a)({},e.target.name,e.target.value)))},placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control"})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendValue",children:" Valor do Gasto "}),Object(f.jsx)(x.a,{className:"form-control",prefix:"R$",decimalSeparator:",",thousandSeparator:".",placeholder:"R$xx,xx",value:oe.total_spent,onChangeEvent:function(e,t,a){re(Object(d.a)(Object(d.a)({},oe),{},{total_spent:a}))}})]})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"spendDate",children:" Data do Gasto "}),Object(f.jsx)("input",{disabled:!0,type:"date",name:"closing_date",id:"spendDate",placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control",value:oe.closing_date})]})})]}),xe&&Object(f.jsxs)(O.a.div,{animate:{y:10},className:"alert alert-success",children:[" ",Object(f.jsx)("i",{className:"fas fa-check-double"}),"  Dados editados com Sucesso!  "]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:me,children:" Fechar"}),Object(f.jsxs)("button",{type:"button",className:"btn btn-success",onClick:function(){m.put("spending/".concat(oe.id),oe).then((function(e){e.status>=200&&(H(),pe(!0),setTimeout((function(){re({id:"",category_fk:"",closing_date:"",description:"",total_spent:""}),me(),pe(!1)}),2e3))}))},children:[" ",Object(f.jsx)("i",{className:"fas fa-edit"}),"  Editar Gasto"]})]})]})]})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),c(e),s(e),n(e),l(e)}))};a(65);l.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),N()}},[[66,1,2]]]);
//# sourceMappingURL=main.188ea90b.chunk.js.map
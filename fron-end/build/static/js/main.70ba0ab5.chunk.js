(this.webpackJsonplaranotes=this.webpackJsonplaranotes||[]).push([[0],{35:function(e,t,a){},37:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(9),l=a.n(n),i=(a(35),a(15)),r=a.n(i),o=a(14),d=a(13),j=a(18),b=a(12),u=(a(37),a(27)),m=a.n(u).a.create({baseURL:"http://laranotes-back.2dmedia.com.br/api/"}),h=a(71),x=a(70),O=a(28),p=a(1);var f=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1];function n(){return l.apply(this,arguments)}function l(){return(l=Object(j.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("categories");case 2:t=e.sent,a=t.data,s(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){n()}),[]);var i=Object(c.useState)(!1),u=Object(b.a)(i,2),f=u[0],g=u[1],v=function(){return g(!f)},N=Object(c.useState)({title:"",period:""}),y=Object(b.a)(N,2),k=y[0],C=y[1],w=function(e){return C(Object(d.a)(Object(d.a)({},k),{},Object(o.a)({},e.target.name,e.target.value)))},S=Object(c.useState)(!1),F=Object(b.a)(S,2),D=F[0],_=F[1],G=Object(c.useState)([]),E=Object(b.a)(G,2),M=E[0],P=E[1];function A(){return L.apply(this,arguments)}function L(){return(L=Object(j.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("spending");case 2:t=e.sent,a=t.data,P(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){A()}),[]);var T=Object(c.useState)(!1),B=Object(b.a)(T,2),H=B[0],R=B[1],z=function(){return R(!H)},I=Object(c.useState)({category_fk:"",description:"",total_spent:"",closing_date:""}),J=Object(b.a)(I,2),V=J[0],$=J[1],q=function(e){return $(Object(d.a)(Object(d.a)({},V),{},Object(o.a)({},e.target.name,e.target.value)))},U=Object(c.useState)(!1),Y=Object(b.a)(U,2),K=Y[0],Q=Y[1],W=Object(c.useState)({period:"",category:""}),X=Object(b.a)(W,2),Z=X[0],ee=X[1],te=Object(c.useState)([]),ae=Object(b.a)(te,2),ce=ae[0],se=ae[1],ne=function(e){ee(Object(d.a)(Object(d.a)({},Z),{},Object(o.a)({},e.target.name,e.target.value)))},le=function(){return Object(p.jsxs)(x.a.div,{animate:{y:10},className:"alert alert-warning",children:[" ",Object(p.jsx)("i",{className:"fas fa-exclamation-triangle"}),"  Preencha todos os campos  "]})},ie=function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("span",{className:"navbar-brand mb-0 h1",children:[" ",Object(p.jsx)("i",{className:"fas fa-address-book"})," LaraNotes"]})})}),Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("div",{className:"row justify-content-center",children:Object(p.jsx)("div",{className:"col-12 col-lg-4 mb-4 text-center",children:Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsxs)("button",{type:"button",onClick:z,className:"btn btn-success",children:[Object(p.jsx)("i",{className:"fas fa-money-check-alt"})," \xa0 Adicionar Gastos"]}),Object(p.jsxs)("button",{type:"button",onClick:v,className:"btn btn-primary",children:[Object(p.jsx)("i",{className:"fas fa-wallet"})," \xa0 Criar Categorias"]})]})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-lg-4 mb-3",children:Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("span",{className:"input-group-text text-white bg-dark",id:"inputGroup-sizing-default",children:"Filtrar por"}),Object(p.jsxs)("select",{defaultChecked:"",name:"period",value:Z.period,onChange:ne,className:"form-select",children:[Object(p.jsx)("option",{selected:!0,value:"",children:"Escolha a per\xedodo"}),Object(p.jsx)("option",{value:"Di\xe1rio",children:"Di\xe1rio"}),Object(p.jsx)("option",{value:"Semanal",children:"Semanal"}),Object(p.jsx)("option",{value:"Mensal",children:"Mensal"}),Object(p.jsx)("option",{value:"Anual",children:"Anual"})]})]})}),Object(p.jsx)("div",{className:"col-12 col-lg-4 mb-3",children:Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("span",{className:"input-group-text text-white bg-dark",id:"inputGroup-sizing-default",children:"Gastos com"}),Object(p.jsxs)("select",{defaultChecked:Z.category,name:"category",value:Z.category,onChange:ne,className:"form-select",children:[Object(p.jsx)("option",{selected:!0,value:"",children:"Escolha a categoria"}),a.map((function(e){return Object(p.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]})}),Object(p.jsxs)("div",{className:"col-12 col-lg-4 text-center text-lg-end",children:[ce.length>0&&Object(p.jsxs)(x.a.button,{animate:{x:-20},className:"btn btn-warning",onClick:function(e){ee({period:"",category:""}),se([])},children:[" ",Object(p.jsx)("i",{className:"fas fa-trash"})," \xa0 Limpar Filtros  "]}),Object(p.jsxs)("button",{className:"btn btn-info",onClick:function(e){if(""!==(Z.category&&Z.period)){var t=a.filter((function(e){return e.id==Z.category&&e.period==Z.period}));t.length>0&&se(t)}else if(""!==Z.category){var c=a.filter((function(e){return e.id==Z.category}));se(c)}else if(""!==Z.period){var s=a.filter((function(e){return e.period==Z.period}));se(s)}},children:[" ",Object(p.jsx)("i",{className:"fas fa-search"})," \xa0 Pesquisar  "]})]})]}),Object(p.jsx)("h3",{className:"mt-3",children:"Meus Gastos"}),Object(p.jsx)("div",{className:"row my-3",children:(ce.length>0?ce:a).map((function(e){return Object(p.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-4  mb-4",children:Object(p.jsxs)("div",{className:"card shadow-sm",children:[Object(p.jsx)("div",{className:"card-header bg-dark",children:Object(p.jsxs)("div",{className:"row align-items-center",children:[Object(p.jsx)("div",{className:"col-8",children:Object(p.jsx)("h5",{className:"m-0 text-white",children:e.title})}),Object(p.jsx)("div",{className:"col-4 text-end",children:Object(p.jsx)("div",{className:"badge text-dark bg-light",children:e.period})})]})}),Object(p.jsx)("ul",{className:"list-group list-group-flush",children:M.map((function(t){return t.category_fk===e.id&&Object(p.jsx)("li",{className:"list-group-item",children:Object(p.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(p.jsxs)("div",{className:"col-8",children:[Object(p.jsx)("i",{className:"fas fa-dollar-sign text-success"}),Object(p.jsxs)("span",{className:"text-success fw-bold",children:[" ",t.total_spent," "]})," -  ",t.description]}),Object(p.jsx)("div",{className:"col-4 text-end",children:Object(p.jsxs)("div",{className:"badge bg-dark ",children:[Object(p.jsx)("i",{className:"far fa-calendar"})," \xa0 ",ie(t.closing_date)," "]})})]})},t.id)}))})]})},e.id)}))}),Object(p.jsxs)(h.a,{show:H,onHide:z,children:[Object(p.jsx)("div",{className:"modal-header bg-success",children:Object(p.jsxs)("h5",{className:"modal-title text-white",id:"exampleModalLabel",children:[" ",Object(p.jsx)("i",{className:"fas fa-money-check-alt"})," \xa0 Adicionar Gastos"]})}),Object(p.jsxs)("div",{className:"modal-body",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"spendCategory",children:" Categoria do Gasto "}),Object(p.jsxs)("select",{defaultChecked:V.category_fk,name:"category_fk",value:V.category_fk,onChange:q,className:"form-select",children:[Object(p.jsx)("option",{selected:!0,value:"",children:"Escolha a categoria"}),a.map((function(e){return Object(p.jsxs)("option",{value:e.id,children:[e.title," - ",e.period," "]},e.id)}))]})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"spendDesc",children:" Descri\xe7\xe3o do Gasto "}),Object(p.jsx)("input",{type:"text",name:"description",id:"spendDesc",value:V.description,onChange:q,placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control"})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"spendValue",children:" Valor do Gasto "}),Object(p.jsx)(O.a,{className:"form-control",prefix:"R$",decimalSeparator:",",thousandSeparator:".",placeholder:"R$xx,xx",value:V.total_spent,onChangeEvent:function(e,t,a){$(Object(d.a)(Object(d.a)({},V),{},{total_spent:a}))}})]})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"spendDate",children:" Data do Gasto "}),Object(p.jsx)("input",{type:"date",name:"closing_date",id:"spendDate",placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control",value:V.closing_date,onChange:q})]})})]}),K&&le()]}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:z,children:" Fechar"}),Object(p.jsxs)("button",{type:"button",className:"btn btn-success",onClick:function(){""===(V.description&&V.value&&V.date)?(Q(!0),setTimeout((function(){Q(!1)}),5e3)):m.post("spending",V).then((function(e){e.status>=200&&A()}))},children:[" ",Object(p.jsx)("i",{className:"fas fa-plus"}),"  Cadastrar Gasto"]})]})]}),Object(p.jsxs)(h.a,{show:f,onHide:v,children:[Object(p.jsx)("div",{className:"modal-header bg-primary",children:Object(p.jsxs)("h5",{className:"modal-title text-white",id:"exampleModalLabel",children:[" ",Object(p.jsx)("i",{className:"fas fa-wallet"})," \xa0 Adicionar Categoria"]})}),Object(p.jsxs)("div",{className:"modal-body",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"categoryTitle",children:" T\xedtulo da Categoria "}),Object(p.jsx)("input",{type:"text",name:"title",id:"categoryTitle",placeholder:"Ex: Bolsa Presente, Hidratante, etc.",className:"form-control",value:k.title,onChange:w})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"categoryPeriod",children:" Per\xedodo do Gasto "}),Object(p.jsxs)("select",{defaultChecked:"",name:"period",value:k.period,onChange:w,className:"form-select",children:[Object(p.jsx)("option",{selected:!0,value:"",children:"Escolha o per\xedodo"}),Object(p.jsx)("option",{value:"Di\xe1rio",children:"Di\xe1rio"}),Object(p.jsx)("option",{value:"Semanal",children:"Semanal"}),Object(p.jsx)("option",{value:"Mensal",children:"Mensal"}),Object(p.jsx)("option",{value:"Anual",children:"Anual"})]})]}),D&&le()]}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:v,children:"Fechar"}),Object(p.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){""===(k.title&&k.period)?(_(!0),setTimeout((function(){_(!1)}),5e3)):m.post("categories/",k).then((function(e){e.status>=200&&n()}))},children:[" ",Object(p.jsx)("i",{className:"fas fa-plus"}),"  Cadastrar Categoria"]})]})]})]})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),c(e),s(e),n(e),l(e)}))};a(64);l.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(f,{})}),document.getElementById("root")),g()}},[[65,1,2]]]);
//# sourceMappingURL=main.70ba0ab5.chunk.js.map